PGM
  ADDLIBLE LIB(INVENTLIB) POSITION(*FIRST)
  RUNQRY QRY(*NONE) QRYFILE((INVENTLIB/ITEMS)) +  QRYSLT('QTYONHAND *LT 0') +    OUTFMT(*OUTFILE)      
  OUTFILE(INVENTLIB/NGSTK)
  IF COND(&LASTCC *GT 0) THEN(DO)
  SNDPGMMSG MSG('Negative stock found in ITEMS file!') +
  TOMSGQ(QSYSOPR)
  ENDDO
  CALL  PGM(INVENTLIB/CHKSTKRPGLE)
ENDPGM
